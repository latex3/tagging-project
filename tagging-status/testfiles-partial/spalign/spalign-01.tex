\DocumentMetadata
  {
    lang=en-US,
    pdfversion=2.0,
    pdfstandard=ua-2,
    tagging=on,
  }
\documentclass{article}

\UseName{sys_if_engine_opentype:T}{\usepackage{unicode-math}}
\usepackage{spalign}

\title{spalign tagging test}

\begin{document}

\[ \spalignmat{1 12 -3; 24 -2 2; 0 0 1} \]
% compare with
\[ \begin{pmatrix}
1 & 12 & -3 \\
24 & -2 & 2 \\
0 & 0 & 1
\end{pmatrix} \]

\[ \spalignmat{ 1
-2 3 ; 4
55 2^3;
\frac{1 1}2 {1
3} {1 0 1} } \]
\[ \spalignmat{ \cos\theta, \sin\theta;
-\sin\theta, \cos\theta} \]
\[ \spalignmat{ \spalignmat{a b; c d} \spalignmat{a' b'; c' d'};
\spalignmat{d e; f g} \spalignmat{d' e'; f' g'} } \]
\[ \spalignarray{l|c|r}{1 1 1; 100 100 100} \]
\[ \spalignvector[r]{1 100 1000} \]
\[ \spalignaugmatn[c]{3}{1 2 3 4; 10 20 30 40} \]
\[ \spalignaugmat{1 2 3 4; 10 20 30 40} \]
\[ \spalignaugmathalf[l]{1 2 3 4; 10 20 30 40} \]
\[ \spalignsys{2x + y = 4; x - 3y = -17} \]
\[ \spalignsys{
2x \+ \. - 3z = 1;
\. \+ 4y + z = -4}
\]
\spaligntabular{lrc}{a b c; aa bb cc}
\[ \spaligndelims\vert\vert \spalignmat{a b; c d} \]
\[ \begin{split}
\spalignretokenize{f_0 =1; f_1 =1; f_{n+2} =f_n+f_{n+1}}
\end{split} \]
\[ \def\spalignendline{\cr}
\spalignrun{\bordermatrix{\the\spaligntoks}}
{, x y; u 1 2; v 3 4} \]
\spalignenv{\begin{align*}}{\end{align*}}%
{x =y x' =y'; z =w z' =w'.}

\end{document}